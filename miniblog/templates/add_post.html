<!-- This template provides a form to add a new post. -->
{% extends "base.html" %}

{% block title %}Add New Post{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-gray-800 p-10 rounded-2xl shadow-2xl">
    <h1 class="text-4xl font-bold header-gradient mb-8">Create a New Post</h1>
    <!-- The form must have enctype="multipart/form-data" for file uploads -->
    <form action="{{ url_for('add_post') }}" method="POST" enctype="multipart/form-data">
        <div class="mb-6">
            <label for="title" class="block text-gray-300 font-medium mb-2">Title</label>
            <input type="text" id="title" name="title" required
                class="w-full px-5 py-3 rounded-lg bg-gray-900 text-white border border-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors">
        </div>
        <div class="mb-6">
            <label for="content" class="block text-gray-300 font-medium mb-2">Content</label>
            <textarea id="content" name="content" rows="10" required
                class="w-full px-5 py-3 rounded-lg bg-gray-900 text-white border border-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors"></textarea>
        </div>
        <div class="mb-6">
            <label for="image" class="block text-gray-300 font-medium mb-2">Image</label>
            <input type="file" id="image" name="image" accept="image/*"
                class="w-full px-5 py-3 rounded-lg bg-gray-900 text-white border border-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100">
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div>
                <label for="author" class="block text-gray-300 font-medium mb-2">Author</label>
                <input type="text" id="author" name="author" placeholder="Anonymous"
                    class="w-full px-5 py-3 rounded-lg bg-gray-900 text-white border border-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors">
            </div>
            <div>
                <label for="tags" class="block text-gray-300 font-medium mb-2">Tags (comma-separated)</label>
                <input type="text" id="tags" name="tags" placeholder="python, flask, webdev"
                    class="w-full px-5 py-3 rounded-lg bg-gray-900 text-white border border-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors">
            </div>
        </div>
        <button type="submit"
            class="w-full btn-gradient text-white font-bold py-4 rounded-lg shadow-xl hover:shadow-2xl transition-all">
            Add Post
        </button>
    </form>
</div>
{% endblock %}